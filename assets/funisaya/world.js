!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.runtime=n.exports}}(this,function(){"use strict";!function(e){function t(e,t,n,i){var o=Object.create((t||r).prototype);return o._invoke=l(e,n||null,new d(i||[])),o}function n(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function r(){}function i(){}function o(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){this.arg=e}function u(e){function t(t,n){var r=e[t](n),a=r.value;return a instanceof s?Promise.resolve(a.arg).then(i,o):r}function n(e,n){var i=r?r.then(function(){return t(e,n)}):new Promise(function(r){r(t(e,n))});return r=i["catch"](a),i}"object"==typeof process&&process.domain&&(t=process.domain.bind(t));var r,i=t.bind(e,"next"),o=t.bind(e,"throw"),a=t.bind(e,"return");this._invoke=n}function l(e,t,r){var i=b;return function(o,a){if(i===S)throw Error("Generator is already running");if(i===_)return h();for(;;){var s=r.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===y){r.delegate=null;var u=s.iterator["return"];if(u){var l=n(u,s.iterator,a);if("throw"===l.type){o="throw",a=l.arg;continue}}if("return"===o)continue}var l=n(s.iterator[o],s.iterator,a);if("throw"===l.type){r.delegate=null,o="throw",a=l.arg;continue}o="next",a=y;var c=l.arg;if(!c.done)return i=x,c;r[s.resultName]=c.value,r.next=s.nextLoc,r.delegate=null}if("next"===o)i===x?r.sent=a:delete r.sent;else if("throw"===o){if(i===b)throw i=_,a;r.dispatchException(a)&&(o="next",a=y)}else"return"===o&&r.abrupt("return",a);i=S;var l=n(e,t,r);if("normal"===l.type){i=r.done?_:x;var c={value:l.arg,done:r.done};if(l.arg!==L)return c;r.delegate&&"next"===o&&(a=y)}else"throw"===l.type&&(i=_,o="throw",a=l.arg)}}}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset()}function p(e){if(e){var t=e[m];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(v.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=y,i.done=!0,i};return r.next=r}}return{next:h}}function h(){return{value:y,done:!0}}var y,v=Object.prototype.hasOwnProperty,m="function"==typeof Symbol&&Symbol.iterator||"@@iterator",w="object"==typeof module,g=e.regeneratorRuntime;if(g)return w&&(module.exports=g),y;g=e.regeneratorRuntime=w?module.exports:{},g.wrap=t;var b="suspendedStart",x="suspendedYield",S="executing",_="completed",L={},k=o.prototype=r.prototype;i.prototype=k.constructor=o,o.constructor=i,i.displayName="GeneratorFunction",g.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===i||"GeneratorFunction"===(t.displayName||t.name):!1},g.mark=function(e){return e.__proto__=o,e.prototype=Object.create(k),e},g.awrap=function(e){return new s(e)},a(u.prototype),g.async=function(e,n,r,i){var o=new u(t(e,n,r,i));return g.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},a(k),k[m]=function(){return this},k.toString=function(){return"[object Generator]"},g.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},g.values=p,d.prototype={constructor:d,reset:function(){this.prev=0,this.next=0,this.sent=y,this.done=!1,this.delegate=null,this.tryEntries.forEach(f);for(var e,t=0;v.call(this,e="t"+t)||20>t;++t)this[e]=null},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=v.call(i,"catchLoc"),s=v.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&v.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?this.next=i.finallyLoc:this.complete(o),L},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),L}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},L}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:void 0)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.World=n.exports}}(this,function(e){"use strict";function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;s=l=u=void 0,r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=o,n=a,r=!0}},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e),this.canvas=document.getElementById("world"),this.scene=new c(this)}return i(e,[{key:"loadData",value:function(){return new Promise(function(e){e()})}},{key:"saveData",value:function(){return new Promise(function(e){e()})}},{key:"nextScene",value:function(e){this.scene=new e(this)}}]),e}();e.World=o;var a=function(){function e(){n(this,e)}return i(e,[{key:"loadInitialResources",value:function(){return Promise.all(e.initialResources.map(function(e){return e.load()}))}},{key:"loadSet",value:function(){}}]),e}(),s=function(){function e(t){n(this,e),this.key=t}return i(e,[{key:"load",value:function(){var e=this;return new Promise(function(t){t(e)})}}]),e}(),u=function(e){function i(){n(this,i),r(Object.getPrototypeOf(i.prototype),"constructor",this).apply(this,arguments)}return t(i,e),i}(s);(function(e){function i(){n(this,i),r(Object.getPrototypeOf(i.prototype),"constructor",this).apply(this,arguments)}return t(i,e),i})(s);a.resourceSets={init:[new u("/assets/funisaya/world/charactorFrontLeft.png"),new u("/assets/funisaya/world/charactorFrontMiddle.png"),new u("/assets/funisaya/world/charactorFrontRight.png"),new u("/assets/funisaya/world/charactorLeftSideLeft.png"),new u("/assets/funisaya/world/charactorLeftSideMiddle.png"),new u("/assets/funisaya/world/charactorLeftSideRight.png"),new u("/assets/funisaya/world/charactorRightSideLeft.png"),new u("/assets/funisaya/world/charactorRightSideMiddle.png"),new u("/assets/funisaya/world/charactorRightSideRight.png")]};var l=function d(e){n(this,d),this.world=e},c=function(e){function o(e){n(this,o),console.log("Loading"),r(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,e),this.init()}return t(o,e),i(o,[{key:"destructor",value:function(){var e=document.getElementsByClassName("loadingScene")[0];e.parentNode.removeChild(e)}},{key:"init",value:function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=document.importNode(document.getElementById("loadingScene").content,!0).firstElementChild,document.body.appendChild(e),t.next=4,regeneratorRuntime.awrap((new a).loadSet("init"));case 4:return t.next=6,regeneratorRuntime.awrap(this.world.loadData());case 6:this.destructor(),this.world.nextScene(f);case 8:case"end":return t.stop()}},null,this)}}]),o}(l),f=function(e){function i(e){n(this,i),console.log("Field"),r(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,e)}return t(i,e),i}(l)}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","./World.js"],t);else if("undefined"!=typeof exports)t(exports,require("./World.js"));else{var n={exports:{}};t(n.exports,e.World),e.main=n.exports}}(this,function(e,t){"use strict";window.addEventListener("DOMContentLoaded",function(){return new t.World})});