var $___95_baselib_46_js__=function(){"use strict";function t(t,e){return Math.floor(Math.random()*(e-t))+t}function e(t,r){return this instanceof e?(this.min=t,void(this.max=r)):new e(t,r)}function r(t,e){var r=!0,n=!1,i=void 0;try{for(var o=void 0,a=Object.keys(e)[$traceurRuntime.toProperty(Symbol.iterator)]();!(r=(o=a.next()).done);r=!0){var u=o.value;if("-"===u[0]){u=u.slice(1);var l=u[0].toUpperCase()+u.slice(1);t.style["Moz"+l]=e["-"+u],t.style["ms"+l]=e["-"+u],t.style["webkit"+l]=e["-"+u]}t.style[u]=e[u]}}catch(s){n=!0,i=s}finally{try{r||null==a["return"]||a["return"]()}finally{if(n)throw i}}}function n(t,e,r){return void 0===r&&(Array.isArray(e)?(r=e,e={}):(r=[],e=e||{})),t=t.replace(/#[-_\w]+/g,function(t){return e.id=t.slice(1),""}).replace(/\.[-_\w]+/g,function(t){return e["class"]=(e["class"]||"")+" "+t.slice(1),""}),i(t,e,r)}function i(t,e,r){var n=document.createElement(t),i=!0,o=!1,a=void 0;try{for(var u=void 0,l=Object.keys(e)[$traceurRuntime.toProperty(Symbol.iterator)]();!(i=(u=l.next()).done);i=!0){var s=u.value;n.setAttribute(s,e[s])}}catch(c){o=!0,a=c}finally{try{i||null==l["return"]||l["return"]()}finally{if(o)throw a}}var f=!0,d=!1,y=void 0;try{for(var h=void 0,v=r[$traceurRuntime.toProperty(Symbol.iterator)]();!(f=(h=v.next()).done);f=!0){var p=h.value;("string"==typeof p||p instanceof String)&&(p=document.createTextNode(p)),n.appendChild(p)}}catch(m){d=!0,y=m}finally{try{f||null==v["return"]||v["return"]()}finally{if(d)throw y}}return n}Array.prototype.sample=function(){return this[t(0,this.length)]},e.prototype[Symbol.iterator]=function(){var t=this,e=this.min-1;return{next:function(){return++e,{value:e,done:e>t.max}}}},e.prototype.sample=function(){return t(this.min,this.max)};var o={listeners:{},emit:function(t,e,r){e=e||[],r=r||null;var n=!0,i=!1,o=void 0;try{for(var a=void 0,u=this.listeners[t][$traceurRuntime.toProperty(Symbol.iterator)]();!(n=(a=u.next()).done);n=!0){var l=a.value;l.apply(r,e)}}catch(s){i=!0,o=s}finally{try{n||null==u["return"]||u["return"]()}finally{if(i)throw o}}},on:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}};return{get rand(){return t},get Range(){return e},get EventRouter(){return o},get setStyle(){return r},get h(){return n}}}(),$__layout_46_js__=function(){"use strict";var t=$___95_baselib_46_js__,e=t.EventRouter,r=t.h,n=function(){function t(){var t=this;this.node=document.querySelector(".page"),this.topMenu=new i(this.node),this.sideMenu=new a(this.node),this.breadcrumb=new u(this.node),document.body.addEventListener("click",function(){var e=!0,r=!1,n=void 0;try{for(var i=void 0,o=t.topMenu.rightItems[$traceurRuntime.toProperty(Symbol.iterator)]();!(e=(i=o.next()).done);e=!0){var a=i.value;a.close()}}catch(u){r=!0,n=u}finally{try{e||null==o["return"]||o["return"]()}finally{if(r)throw n}}}),e.on("toggleLayoutSideMenu",function(){t.sideMenu.isOpen?(t.node.style.left="0",t.topMenu.whenCloseSideMenu(),t.sideMenu.close()):(t.node.style.left="60mm",t.topMenu.whenOpenSideMenu(),t.sideMenu.open())})}return $traceurRuntime.createClass(t,{},{})}(),i=function(){function t(t){var r=this;this.node=t.querySelector(".page_topMenu"),this.leftSideToggleBtn=t.querySelector(".page_topMenu_left_sideToggleBtn"),this.rightItems=[],this.leftSideToggleBtn.addEventListener("click",function(){return e.emit("toggleLayoutSideMenu")});var n=!0,i=!1,a=void 0;try{for(var u=void 0,l=Array.from(this.node.querySelectorAll(".page_topMenu_right > ul > li"))[$traceurRuntime.toProperty(Symbol.iterator)]();!(n=(u=l.next()).done);n=!0){var s=u.value;this.rightItems.push(new o(s))}}catch(c){i=!0,a=c}finally{try{n||null==l["return"]||l["return"]()}finally{if(i)throw a}}e.on("openLayoutTopMenuRightItem",function(t){var e=!0,n=!1,i=void 0;try{for(var o=void 0,a=r.rightItems[$traceurRuntime.toProperty(Symbol.iterator)]();!(e=(o=a.next()).done);e=!0){var u=o.value;u!==t&&u.close()}}catch(l){n=!0,i=l}finally{try{e||null==a["return"]||a["return"]()}finally{if(n)throw i}}})}return $traceurRuntime.createClass(t,{whenOpenSideMenu:function(){this.leftSideToggleBtn.classList.remove("fa-chevron-right"),this.leftSideToggleBtn.classList.add("fa-times")},whenCloseSideMenu:function(){this.leftSideToggleBtn.classList.remove("fa-times"),this.leftSideToggleBtn.classList.add("fa-chevron-right")}},{})}(),o=function(){function t(t){var e=this;this.isOpen=!1,this.node=t,this.anchor=this.node.querySelector("a"),this.ul=this.node.querySelector("ul"),this.ul&&(this.anchor.classList.add("fa"),this.anchor.classList.add("fa-caret-down"),this.anchor.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.isOpen?e.close():e.open()}))}return $traceurRuntime.createClass(t,{open:function(){var t=this;this.isOpen=!0,window.requestAnimationFrame(function(){t.ul.style.display="block",t.anchor.classList.remove("fa-caret-down"),t.anchor.classList.add("fa-caret-up"),window.requestAnimationFrame(function(){return t.ul.style.opacity=1})}),e.emit("openLayoutTopMenuRightItem",[this])},close:function(){var t=this;this.isOpen=!1,window.requestAnimationFrame(function(){t.ul.style.opacity=0,t.anchor.classList.remove("fa-caret-up"),t.anchor.classList.add("fa-caret-down"),window.setTimeout(function(){return t.ul.style.display="none"},400)})}},{})}(),a=function(){function t(t){this.isOpen=!1,this.node=t.querySelector(".page_sideMenu")}return $traceurRuntime.createClass(t,{open:function(){this.isOpen=!0,this.node.style.left="0"},close:function(){this.isOpen=!1,this.node.style.left="-60mm"}},{})}(),u=function(){function t(t){if(this.node=t.querySelector(".breadcrumb"),this.node&&!this.node.querySelector("*[itemscope]")){var e=this.node.textContent.split("\n").filter(function(t){return""!==t.trim()}).map(function(t){return{url:t.match(/^\s*(\S+)/)[1],title:t.match(/^\s*\S+\s+(.+)$/)[1]}}),n=e.reduceRight(function(t,e){var n=r("div",{itemscope:"",itemtype:"http://data-vocabulary.org/Breadcrumb"},[r("a",{href:e.url,itemprop:"url"},[r("span",{itemprop:"title"},[e.title])])]);return t&&(t.setAttribute("itemprop","child"),n.appendChild(t)),n},null);this.node.innerHTML="",this.node.appendChild(n)}}return $traceurRuntime.createClass(t,{},{})}();return window.addEventListener("DOMContentLoaded",function(){new n;var t=new Taketori;t.set({}).element("div.vertical").toVertical(),window.requestAnimationFrame(function(){document.body.style.fontFamily="UniSeiJi, "+window.getComputedStyle(document.body).fontFamily})}),{}}();
//# sourceMappingURL=layout.js.map