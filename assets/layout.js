!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e._baselib=n.exports}}(this,function(e){"use strict";function t(e,t){return Math.floor(Math.random()*(t-e))+e}function n(e,t){return this instanceof n?(this.min=e,void(this.max=t)):new n(e,t)}function r(e,t){var n=!0,r=!1,i=void 0;try{for(var o,s=Object.keys(t)[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;if("-"===a[0]){a=a.slice(1);var l=a[0].toUpperCase()+a.slice(1);e.style["Moz"+l]=t["-"+a],e.style["ms"+l]=t["-"+a],e.style["webkit"+l]=t["-"+a]}e.style[a]=t[a]}}catch(u){r=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw i}}}function i(e,t,n){return void 0===n&&(Array.isArray(t)?(n=t,t={}):(n=[],t=t||{})),e=e.replace(/#[-_\w]+/g,function(e){return t.id=e.slice(1),""}).replace(/\.[-_\w]+/g,function(e){return t["class"]=(t["class"]||"")+" "+e.slice(1),""}),o(e,t,n)}function o(e,t,n){var r=document.createElement(e),i=!0,o=!1,s=void 0;try{for(var a,l=Object.keys(t)[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;r.setAttribute(u,t[u])}}catch(c){o=!0,s=c}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw s}}var f=!0,d=!1,h=void 0;try{for(var y,p=n[Symbol.iterator]();!(f=(y=p.next()).done);f=!0){var v=y.value;("string"==typeof v||v instanceof String)&&(v=document.createTextNode(v)),r.appendChild(v)}}catch(c){d=!0,h=c}finally{try{!f&&p["return"]&&p["return"]()}finally{if(d)throw h}}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.rand=t,e.Range=n,e.setStyle=r,e.h=i,Array.prototype.sample=function(){return this[t(0,this.length)]},n.prototype[Symbol.iterator]=function(){var e=this,t=this.min-1;return{next:function(){return++t,{value:t,done:t>e.max}}}},n.prototype.sample=function(){return t(this.min,this.max)};var s={listeners:{},emit:function(e,t,n){t=t||[],n=n||null;var r=!0,i=!1,o=void 0;try{for(var s,a=this.listeners[e][Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;l.apply(n,t)}}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}},on:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}};e.EventRouter=s}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","./_baselib.js"],t);else if("undefined"!=typeof exports)t(exports,require("./_baselib.js"));else{var n={exports:{}};t(n.exports,e._baselib),e.layout=n.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function u(){var e=this;n(this,u),this.node=document.querySelector(".page"),this.topMenu=new o(this.node),this.sideMenu=new a(this.node),this.breadcrumb=new l(this.node),document.body.addEventListener("click",function(){var t=!0,n=!1,r=void 0;try{for(var i,o=e.topMenu.rightItems[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.close()}}catch(a){n=!0,r=a}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}}),t.EventRouter.on("toggleLayoutSideMenu",function(){e.sideMenu.isOpen?(e.node.style.left="0",e.topMenu.whenCloseSideMenu(),e.sideMenu.close()):(e.node.style.left="60mm",e.topMenu.whenOpenSideMenu(),e.sideMenu.open())})},o=function(){function e(r){var i=this;n(this,e),this.node=r.querySelector(".page_topMenu"),this.leftSideToggleBtn=r.querySelector(".page_topMenu_left_sideToggleBtn"),this.rightItems=[],this.leftSideToggleBtn.addEventListener("click",function(){return t.EventRouter.emit("toggleLayoutSideMenu")});var o=!0,a=!1,l=void 0;try{for(var u,c=Array.from(this.node.querySelectorAll(".page_topMenu_right > ul > li"))[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;this.rightItems.push(new s(f))}}catch(d){a=!0,l=d}finally{try{!o&&c["return"]&&c["return"]()}finally{if(a)throw l}}t.EventRouter.on("openLayoutTopMenuRightItem",function(e){var t=!0,n=!1,r=void 0;try{for(var o,s=i.rightItems[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var a=o.value;a!==e&&a.close()}}catch(l){n=!0,r=l}finally{try{!t&&s["return"]&&s["return"]()}finally{if(n)throw r}}})}return r(e,[{key:"whenOpenSideMenu",value:function(){this.leftSideToggleBtn.classList.remove("fa-chevron-right"),this.leftSideToggleBtn.classList.add("fa-times")}},{key:"whenCloseSideMenu",value:function(){this.leftSideToggleBtn.classList.remove("fa-times"),this.leftSideToggleBtn.classList.add("fa-chevron-right")}}]),e}(),s=function(){function e(t){var r=this;n(this,e),this.isOpen=!1,this.node=t,this.anchor=this.node.querySelector("a"),this.ul=this.node.querySelector("ul"),this.ul&&(this.anchor.classList.add("fa"),this.anchor.classList.add("fa-caret-down"),this.anchor.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),r.isOpen?r.close():r.open()}))}return r(e,[{key:"open",value:function(){var e=this;this.isOpen=!0,window.requestAnimationFrame(function(){e.ul.style.display="block",e.anchor.classList.remove("fa-caret-down"),e.anchor.classList.add("fa-caret-up"),window.requestAnimationFrame(function(){return e.ul.style.opacity=1})}),t.EventRouter.emit("openLayoutTopMenuRightItem",[this])}},{key:"close",value:function(){var e=this;this.isOpen=!1,window.requestAnimationFrame(function(){e.ul.style.opacity=0,e.anchor.classList.remove("fa-caret-up"),e.anchor.classList.add("fa-caret-down"),window.setTimeout(function(){return e.ul.style.display="none"},400)})}}]),e}(),a=function(){function e(t){n(this,e),this.isOpen=!1,this.node=t.querySelector(".page_sideMenu")}return r(e,[{key:"open",value:function(){this.isOpen=!0,this.node.style.left="0"}},{key:"close",value:function(){this.isOpen=!1,this.node.style.left="-60mm"}}]),e}(),l=function c(e){if(n(this,c),this.node=e.querySelector(".breadcrumb"),this.node&&!this.node.querySelector("*[itemscope]")){var r=this.node.textContent.split("\n").filter(function(e){return""!==e.trim()}).map(function(e){return{url:e.match(/^\s*(\S+)/)[1],title:e.match(/^\s*\S+\s+(.+)$/)[1]}}),i=r.reduceRight(function(e,n){var r=t.h("div",{itemscope:"",itemtype:"http://data-vocabulary.org/Breadcrumb"},[t.h("a",{href:n.url,itemprop:"url"},[t.h("span",{itemprop:"title"},[n.title])])]);return e&&(e.setAttribute("itemprop","child"),r.appendChild(e)),r},null);this.node.innerHTML="",this.node.appendChild(i)}};window.addEventListener("DOMContentLoaded",function(){new i;var e=new Taketori;e.set({}).element("div.vertical").toVertical(),window.requestAnimationFrame(function(){document.body.style.fontFamily="UniSeiJi, "+window.getComputedStyle(document.body).fontFamily})})});